[{"path":"https://stem-cz.github.io/stemtools/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 stemtools authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://stem-cz.github.io/stemtools/articles/color-palettes.html","id":"accesing-stemtool-palettes","dir":"Articles","previous_headings":"","what":"Accesing stemtool palettes","title":"Color Palettes in stemtool","text":"Color codes palettes can accessed using stem_palettes() function. function expects palette name (see ) optionally number colors extract. default, colors extracted. Palettes can visually inspected show_col() function scales package:","code":"stem_palettes(palette = \"modern\", n = 5) #> [1] \"#35978F\" \"#80CDC1\" \"#B0C89F\" \"#DFC27D\" \"#BF812D\" show_col(stem_palettes(palette = \"modern\"))"},{"path":"https://stem-cz.github.io/stemtools/articles/color-palettes.html","id":"using-palettes-in-ggplot2","dir":"Articles","previous_headings":"","what":"Using palettes in ggplot2","title":"Color Palettes in stemtool","text":"Palettes can used ggplot2 figures using functions scale_color_stem() scale_fill_stem(). Specific palette can chosen palette argument, using direction = -1 can used reverse order colors. Note diverging palettes, colors used ends palette alternating pattern.","code":"mtcars |>    within(gear <- as.factor(gear)) |>    ggplot(aes(x = mpg,              y = hp,              color = gear)) +   geom_point(size = 3) +   scale_color_stem(palette = \"modern\")"},{"path":"https://stem-cz.github.io/stemtools/articles/plotting.html","id":"customizing-labels","dir":"Articles","previous_headings":"","what":"Customizing labels","title":"Plotting with stemtools","text":"default, stem_plot() shows labels geom (set labels = FALSE hide ). Looks labels can customized using several arguments. label_scale multiples labels specified amount (e.g. 100). label_accuracy rounds labels - 1 decimal places, 0.1 one decimal place, 0.01 two, . label_suffix label_prefix allow add suffix prefix respectively. label_big controls thousands separator label_decimal control character used separate decimal digits. can also hide labels lower certain threshold label_hide (0.05 default). Additionally, can pass list label_args specify additional arguments like vjust position:","code":"stem_plot(data = trust,           item = government,           label_scale = 100,           label_suffix = \"%\",           label_hide = 0)"},{"path":"https://stem-cz.github.io/stemtools/articles/plotting.html","id":"customizing-title-caption-and-axes","dir":"Articles","previous_headings":"","what":"Customizing title, caption and axes","title":"Plotting with stemtools","text":"default, plots include title. item attribute label (one created using labelled package) title_label = TRUE, label used instead variable name. can use title_wrap set many characters title wrapped next line. don’t want use title, set title = FALSE. want use title, use stem_plot(..., title = FALSE) + ggplot::labs(title = \"title\"). default, plot also includes caption sample size. get rid caption, set caption = FALSE.  can pass ggplot2’s scale functions arguments scale_x, scale_y, scale_fill scale_color. Note may need set limits hand using grouping variable setting scale. Similarly, can control legend using guides. Lastly, can reverse order item group variable using item_reverse group_reverse.","code":"stem_plot(data = trust,           item = government,           title_label = TRUE,           caption = TRUE) stem_plot(data = trust,           item = police,           group = eu_index,           label = FALSE,           scale_y = ggplot2::scale_y_continuous(labels = scales::percent_format(),                                                 limits = c(0, NA)),           scale_fill = ggplot2::scale_fill_brewer(palette = \"Set1\"),           scale_color = ggplot2::scale_color_brewer(palette = \"Set1\"),           guides = ggplot2::guides(fill = ggplot2::guide_legend(reverse = TRUE),                                    color = ggplot2::guide_legend(reverse = TRUE)),           item_reverse = TRUE)"},{"path":"https://stem-cz.github.io/stemtools/articles/plotting.html","id":"collapsing-categories","dir":"Articles","previous_headings":"","what":"Collapsing categories","title":"Plotting with stemtools","text":"can use collapse_item collapse_group collapse variable categories passing named list. arguments can also used rename categories.","code":"stem_plot(data = trust,           item = police,           group = eu_index,           label = FALSE,           collapse_item = list(`Ano` = c(\"Definitely Agree\",                                          \"Rather Agree\"),                                `Ani ano, ani ne` = \"Neither Agree nor Disagree\",                                `Ne` = c(\"Rather Disagree\",                                         \"Definitely Disagree\")),           collapse_group = list(`Pozitivní vztah` = \"Likes EU\",                                 `Neutrální vztah` = \"Neutral\",                                 `Negativní vztah` = \"Dislikes EU\",                                 `Neví` = \"Doesn't Know\"))"},{"path":"https://stem-cz.github.io/stemtools/articles/plotting.html","id":"weights","dir":"Articles","previous_headings":"","what":"Weights","title":"Plotting with stemtools","text":"weights variable specified, weights treated survey weights passed {svryr} (turn passes survey).","code":"stem_plot(data = trust,           item = government,           label_scale = 100,           weight = W)"},{"path":"https://stem-cz.github.io/stemtools/articles/plotting.html","id":"choosing-geoms","dir":"Articles","previous_headings":"","what":"Choosing geoms","title":"Plotting with stemtools","text":"can choose geoms represent data. estimates, 95% confidence intervals also computed can plotted using appropriate geom. can also set additional arguments geom passing named list geom_args. Note unweighted data, confidence intervals computed using basic \\(\\sqrt{\\frac{p \\cdot (1-p)}{n}}\\) formula. small proportions small sample sizes, can lead confidence intervals’ bounds outside realistic values (.e. proportions lower 0 higher 1). data weighted, confidence intervals based logistic regression always properly bounded.","code":"stem_plot(data = trust,           item = police,           group = eu_index,           weight = W,           label = FALSE,           geom = ggplot2::geom_pointrange)"},{"path":[]},{"path":"https://stem-cz.github.io/stemtools/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Aleš Vomáčka. Author, maintainer.","code":""},{"path":"https://stem-cz.github.io/stemtools/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Vomáčka (2023). stemtools: Tools helpful wrappers analysts Stem (https://www.stem.cz). https://github.com/stem-cz/stemtools, https://stem-cz.github.io/stemtools/.","code":"@Manual{,   title = {stemtools: Tools and helpful wrappers for analysts at Stem (https://www.stem.cz)},   author = {Aleš Vomáčka},   year = {2023},   note = {https://github.com/stem-cz/stemtools, https://stem-cz.github.io/stemtools/}, }"},{"path":"https://stem-cz.github.io/stemtools/index.html","id":"stemtools","dir":"","previous_headings":"","what":"Tools and helpful wrappers for analysts at Stem (https://www.stem.cz)","title":"Tools and helpful wrappers for analysts at Stem (https://www.stem.cz)","text":"Color palettes, ploting functions working Stem.","code":""},{"path":"https://stem-cz.github.io/stemtools/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools and helpful wrappers for analysts at Stem (https://www.stem.cz)","text":"can install development version stemtools GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"stem-cz/stemtools\")"},{"path":"https://stem-cz.github.io/stemtools/reference/desub.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper for the deparse-substitute combo — desub","title":"Wrapper for the deparse-substitute combo — desub","text":"Transforms object name character string.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/desub.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper for the deparse-substitute combo — desub","text":"","code":"desub(x)"},{"path":"https://stem-cz.github.io/stemtools/reference/desub.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper for the deparse-substitute combo — desub","text":"x object name","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/desub.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper for the deparse-substitute combo — desub","text":"character string","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/desub.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper for the deparse-substitute combo — desub","text":"","code":"desub(trust) #> [1] \"trust\""},{"path":"https://stem-cz.github.io/stemtools/reference/diverging_color_extractor.html","id":null,"dir":"Reference","previous_headings":"","what":"Diverging Color Palette Extractor — diverging_color_extractor","title":"Diverging Color Palette Extractor — diverging_color_extractor","text":"diverging palettes, colors picked ends alternating pattern, sequentially.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/diverging_color_extractor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Diverging Color Palette Extractor — diverging_color_extractor","text":"","code":"diverging_color_extractor(palette, n)"},{"path":"https://stem-cz.github.io/stemtools/reference/diverging_color_extractor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Diverging Color Palette Extractor — diverging_color_extractor","text":"palette Name palette. n Number colors extract.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/diverging_color_extractor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Diverging Color Palette Extractor — diverging_color_extractor","text":"","code":"if (FALSE) { diverging_color_extractor(stem_palettes(palette = \"modern\"), n = 3) }"},{"path":"https://stem-cz.github.io/stemtools/reference/prop_se.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes parametric standard error for proportions — prop_se","title":"Computes parametric standard error for proportions — prop_se","text":"Computes SE proportions using old-school \\(\\sqrt{\\frac{p - (1 - p)}{n}}\\) formula.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/prop_se.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes parametric standard error for proportions — prop_se","text":"","code":"prop_se(p, n)"},{"path":"https://stem-cz.github.io/stemtools/reference/prop_se.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes parametric standard error for proportions — prop_se","text":"p proportion n sample size","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/prop_se.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes parametric standard error for proportions — prop_se","text":"numeric value representing SE proportions","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/prop_se.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Computes parametric standard error for proportions — prop_se","text":"","code":"p = 0.3 n = 200 prop_se(p = p, n = n)"},{"path":"https://stem-cz.github.io/stemtools/reference/scale_colour_stem.html","id":null,"dir":"Reference","previous_headings":"","what":"Sequential, diverging and qualitative color scales from stemtools — scale_colour_stem","title":"Sequential, diverging and qualitative color scales from stemtools — scale_colour_stem","text":"Returns vector colors forming cohesive palette. Current palettes include: Nominal: gruvbox Diverging: gruvbox_div, modern","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/scale_colour_stem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sequential, diverging and qualitative color scales from stemtools — scale_colour_stem","text":"","code":"scale_colour_stem(palette = \"modern\", direction = 1, ...)  scale_color_stem(palette = \"modern\", direction = 1, ...)  scale_fill_stem(palette = \"modern\", direction = 1, ...)"},{"path":"https://stem-cz.github.io/stemtools/reference/scale_colour_stem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sequential, diverging and qualitative color scales from stemtools — scale_colour_stem","text":"palette Name palette use. direction Orientation palette. -1, order colors reversed. ... Additional arguments passed ggplot2::discrete_scale()","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/scale_colour_stem.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sequential, diverging and qualitative color scales from stemtools — scale_colour_stem","text":"","code":"ggplot2::ggplot(data = mtcars,        mapping = ggplot2::aes(x = mpg, y = hp, color = as.factor(am))) +        ggplot2::geom_point() +        scale_color_stem()"},{"path":"https://stem-cz.github.io/stemtools/reference/se_mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes parametric standard error for mean — se_mean","title":"Computes parametric standard error for mean — se_mean","text":"Computes SE mean using old-school \\(\\sqrt{\\frac{var_x}{n}}\\) formula.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/se_mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes parametric standard error for mean — se_mean","text":"","code":"se_mean(x)"},{"path":"https://stem-cz.github.io/stemtools/reference/se_mean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes parametric standard error for mean — se_mean","text":"x numeric vector","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/se_mean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes parametric standard error for mean — se_mean","text":"numeric value representing SE means","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/se_mean.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Computes parametric standard error for mean — se_mean","text":"","code":"se_mean(trust$age) #> [1] 0.1062196"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_ggsave.html","id":null,"dir":"Reference","previous_headings":"","what":"Export Stem plots — stem_ggsave","title":"Export Stem plots — stem_ggsave","text":"Wrapper around ggplot2::ggsave() tries export plots format appropriate typical report. works plots created stem_plot_* family functions.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_ggsave.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export Stem plots — stem_ggsave","text":"","code":"stem_ggsave(plot, name = NA, path = NULL, device = \"png\", dpi = 300)"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_ggsave.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export Stem plots — stem_ggsave","text":"plot Plot created stem_plot_*, e.g. stem_plot_bar(). name Name exported file, include extension (e.g. \".png\"). NA, plot object (extension needed ). path Optional path export plot . device Device used exporting, e.g. \"png\" \"pdf\". dpi Resultion exported plot. Usually 300 \"medium\" resolution, 600 \"high\".","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_ggsave.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export Stem plots — stem_ggsave","text":"File exported plot.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_ggsave.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Export Stem plots — stem_ggsave","text":"function aims exporting common types plots correct size resolution minimal user input. plot created stem_plot_* function plot_fn attribute used set default width heigh output. example, plots created stem_plot_bar() attribute value \"stem_plot_bar\", leads exported 16x4 cm dimensions.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_ggsave.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export Stem plots — stem_ggsave","text":"","code":"if (FALSE) { species_plot <- stem_plot_bar(trust, government)  stem_ggsave(species_plot) }"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palette_generator.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepares Color Palette for ggplot2 — stem_palette_generator","title":"Prepares Color Palette for ggplot2 — stem_palette_generator","text":"Prepares Color Palette ggplot2","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palette_generator.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepares Color Palette for ggplot2 — stem_palette_generator","text":"","code":"stem_palette_generator(palette = \"modern\", direction = 1)"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palette_generator.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepares Color Palette for ggplot2 — stem_palette_generator","text":"palette Name palette. direction -1, reverses order colors.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palette_generator.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepares Color Palette for ggplot2 — stem_palette_generator","text":"vector color hex codes use ggplot2","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palette_generator.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepares Color Palette for ggplot2 — stem_palette_generator","text":"","code":"if (FALSE) { stem_palette_generator() }"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palettes.html","id":null,"dir":"Reference","previous_headings":"","what":"Select a Color Palette — stem_palettes","title":"Select a Color Palette — stem_palettes","text":"Returns vector colors forming cohesive palette. Current palettes include: Nominal: gruvbox, Diverging: gruvbox_div, modern, bluered_light","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palettes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select a Color Palette — stem_palettes","text":"","code":"stem_palettes(palette = \"modern\", n = NA)"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palettes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select a Color Palette — stem_palettes","text":"palette Name palette. n Number colors extract. NA, extracts .","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palettes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select a Color Palette — stem_palettes","text":"vector color hexcodes","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_palettes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Select a Color Palette — stem_palettes","text":"","code":"stem_palettes(palette = \"gruvbox\") #> [1] \"#fb4934\" \"#b8bb26\" \"#83a598\" \"#fabd2f\" \"#d3869b\" \"#8ec07c\" \"#fe8019\" stem_palettes(palette = \"modern\", n = 3) #> [1] \"#35978F\" \"#80CDC1\" \"#B0C89F\""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"General plotting function — stem_plot","title":"General plotting function — stem_plot","text":"General plotting function","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"General plotting function — stem_plot","text":"","code":"stem_plot(   data,   item,   group = NULL,   weight = NULL,   collapse_item = NULL,   collapse_group = NULL,   geom = ggplot2::geom_col,   geom_args = list(position = ggplot2::position_dodge(width = 0.95)),   title = TRUE,   title_label = TRUE,   title_wrap = 50,   format_axis = TRUE,   caption = TRUE,   label = TRUE,   label_args = list(position = ggplot2::position_dodge(width = 0.95), color = \"black\",     vjust = -1),   label_hide = 0.05,   label_accuracy = 1,   label_scale = 1,   label_prefix = \"\",   label_suffix = \"\",   label_big = \" \",   label_decimal = \",\",   group_size = \"none\",   group_wrap = NULL,   item_size = \"none\",   item_wrap = NULL,   scale_x = ggplot2::scale_x_discrete(),   scale_y = ggplot2::scale_y_continuous(limits = c(0, NA)),   scale_fill = scale_fill_stem(palette = \"modern\"),   scale_color = scale_color_stem(palette = \"modern\"),   facet = FALSE,   guides = ggplot2::guides(),   coord_flip = FALSE,   item_reverse = FALSE,   group_reverse = FALSE )"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"General plotting function — stem_plot","text":"data Dataframe including item (group) variables item Plotted item group Optional; plotted grouping variable weight Optional; survey weights collapse_item Optional, named list collapse item categories collapse_group Optional, named list collapse group categories geom Geom represent data geom_args Arguments geom function like size, color, etc. title name item used plot title? Yes default title_label title use item label instead name? item attribute \"label\". title_wrap Length title characters gets wrapped. Defaults 50. format_axis TRUE, adds title x axis removes titles scales. caption TRUE, adds caption sample size. label geom labels printed? Yes default label_args Arguments labels function like vjust, postion, etc. label_hide Hides geom labels values smaller threshold. Defaults 0.05. label_accuracy Accuracy geom labels. 1 means decimal places, 0.1 one decimal place. label_scale Multiplicative scale geom labels. 100 multiple values 100 label_prefix Prefix geom labels. label_suffix Suffix geom labels label_big Character split big numbers. Whitespace default (e.g. 1000 printed \"1 000\"). label_decimal Character separate decimal digits. Comma default (e.g. 1.2 printed \"1,2\") group_size group size included group legend? Either n (absolute frequency), prop (proportions) none (nothing). group_wrap many characters group categories wrapping next line. Defaults NULL - wrapping. item_size group size included item legend? Either n (absolute frequency), prop (proportions) none (nothing). item_wrap many characters item categories wrapping next line. Defaults NULL - wrapping. scale_x Pass ggplot2::scale_x_discrete() plot needed. scale_y Pass ggplot2::scale_y_continuous() plot needed. scale_fill Pass scale_fill_* plot needed. scale_color Pass scale_color_* plot needed. facet groups splitted facets? default. guides Pass ggplot2::guides() function plot needed. coord_flip TRUE, switches x y axes. item_reverse Reverse order item categories group_reverse Reverse order group categories","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"General plotting function — stem_plot","text":"ggplot2 graph custom attribute \"stem_plot\"","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"General plotting function — stem_plot","text":"","code":"stem_plot(data = trust, item = government, label = FALSE)   stem_plot(data = trust,           item = police,           group = eu_index,           weight = W,           geom_args = list(position = \"stack\"),           label_args = list(position = ggplot2::position_stack(vjust = 0.5), color = \"white\"),           label_scale = 100,           label_suffix = \"\",           item_size = \"prop\",           group_size = \"n\",           scale_y = ggplot2::scale_y_continuous(labels = scales::percent_format(accuracy = 1))) + theme_stem(legend.position = \"bottom\")  #> Warning: Stacking not well defined when not anchored on the axis"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_bar.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a simple barchart — stem_plot_bar","title":"Plot a simple barchart — stem_plot_bar","text":"Wrapper around stem_plot() make creating barplots easier.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_bar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a simple barchart — stem_plot_bar","text":"","code":"stem_plot_bar(   data,   item,   group = NULL,   weight = NULL,   scale_y = ggplot2::scale_y_continuous(labels = scales::percent_format(accuracy = 1),     limits = c(0, NA)),   label = TRUE,   label_scale = 100,   label_hide = 0,   ... )"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_bar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a simple barchart — stem_plot_bar","text":"data Dataframe including item (group) variables item Plotted item group Optional; plotted grouping variable weight Optional; survey weights scale_y Format y axis using ggplot2::scale_y_continuous() label geom labels printed? Yes default label_scale Multiplicative scale geom labels. 100 multiple values 100 label_hide Hides geom labels values smaller threshold. Defaults 0. ... arguments passed stem_plot()","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_bar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a simple barchart — stem_plot_bar","text":"ggplot2 object custom attribute \"stem_plot\"","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_bar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a simple barchart — stem_plot_bar","text":"","code":"stem_plot_bar(trust, government)"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_barstack.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a stacked barchart — stem_plot_barstack","title":"Plot a stacked barchart — stem_plot_barstack","text":"Wrapper around stem_plot() make creating stacked barplots easier.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_barstack.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a stacked barchart — stem_plot_barstack","text":"","code":"stem_plot_barstack(   data,   item,   group = NULL,   weight = NULL,   geom = ggplot2::geom_col,   geom_args = list(position = \"stack\"),   label_text_color = \"black\",   label_args = list(position = ggplot2::position_stack(vjust = 0.5), color =     label_text_color),   scale_y = ggplot2::scale_y_continuous(labels = scales::percent_format(accuracy = 1),     limits = c(0, NA)),   label = TRUE,   label_scale = 100,   label_hide = 0.05,   ... )"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_barstack.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a stacked barchart — stem_plot_barstack","text":"data Dataframe including item (group) variables item Plotted item group Optional; plotted grouping variable weight Optional; survey weights geom geom represent data geom_args Optional, named list collapse group categories label_text_color Color text labels. Default black. label_args Arguments labels function like vjust, postion, etc. scale_y Format y axis using ggplot2::scale_y_continuous() label geom labels printed? Yes default label_scale Multiplicative scale geom labels. 100 multiple values 100. label_hide Hides geom labels values smaller threshold. Defaults 0.05. ... arguments passed stem_plot()","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_barstack.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a stacked barchart — stem_plot_barstack","text":"ggplot2 object custom attribute \"stem_plot\"","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_barstack.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a stacked barchart — stem_plot_barstack","text":"","code":"stem_plot_barstack(trust, police, eu_index)   stem_plot_barstack(trust, police)"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_battery.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot battery of like items — stem_plot_battery","title":"Plot battery of like items — stem_plot_battery","text":"Plots set categorical variables response categories single graph.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_battery.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot battery of like items — stem_plot_battery","text":"","code":"stem_plot_battery(   data,   items,   weight = NULL,   order_by = NULL,   geom_args = list(position = \"stack\"),   label_args = list(position = ggplot2::position_stack(vjust = 0.5), color =     label_text_color),   label_scale = 100,   label_text_color = \"black\",   label_hide = 0.05,   item_label = TRUE,   group_size = \"none\",   scale_y = ggplot2::scale_y_continuous(labels = scales::percent_format(accuracy = 1)),   coord_flip = TRUE,   ... )"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_battery.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot battery of like items — stem_plot_battery","text":"data Dataframe including item (group) variables items Plotted items. Can selected using Tidyselect's selection helpers. weight Optional; survey weights order_by Vector response categories order items , e.g. c(\"Definitely Agree\", \"Rather Agree\"). geom_args Arguments geom function like size, color, etc. label_args Arguments labels function like vjust, postion, etc. label_scale Multiplicative scale geom labels. 100 multiple values 100. label_text_color Color text labels. Default black. label_hide Hides geom labels values smaller threshold. Defaults 0.05. item_label TRUE, item labels used instead names (items must label). group_size group size included group legend? Either n (absolute frequency), prop (proportions) none (nothing). scale_y Format y axis using ggplot2::scale_y_continuous() coord_flip TRUE, switches x y axes. ... arguments passed stem_plot()","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_battery.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot battery of like items — stem_plot_battery","text":"ggplot2 object custom attribute \"stem_plot\"","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_plot_battery.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot battery of like items — stem_plot_battery","text":"","code":"stem_plot_battery(trust,                   items = c(police, eu, government, army),                   weight = W,                   order_by = c(\"Definitely Agree\", \"Rather Agree\")) #> Warning: Unknown levels in `f`: W"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise numeric or categorical variable (possibly segmented) — stem_summarise","title":"Summarise numeric or categorical variable (possibly segmented) — stem_summarise","text":"Summarise either numeric categerical variable, possible segment another categorical variable. Actually wrapper stem_summarise_cat() stem_summarise_num().","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise numeric or categorical variable (possibly segmented) — stem_summarise","text":"","code":"stem_summarise(   data,   item,   group = NULL,   weight = NULL,   long = FALSE,   collapse_item = NULL,   collapse_group = NULL,   return_n = FALSE )"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise numeric or categorical variable (possibly segmented) — stem_summarise","text":"data Dataframe including variables analyzed item Variable summarised group Optional segmenting variable weight Optional survey weights long Returns data long format. Useful multiple dataframes merged collapse_item Named list. Optionally collapes (renames) categories item variable (item categorical). collapse_group Named list. Optionally collapes (renames) categories group variable return_n TRUE, returns absolute group sizes.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise numeric or categorical variable (possibly segmented) — stem_summarise","text":"aggregated data frame point estimates (either proportions means) 95% confidence intervals.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summarise numeric or categorical variable (possibly segmented) — stem_summarise","text":"Apart either point estimates (proportions means), function also returns 95% confidence interval bounds. unweighted, intervals computed using basic sqrt((p * (1-p)) / n) formula. estimated proportions high/low, may lead interval estimates outsides (0;1) bounds. weights used, confidence intervals based weighted logistic regression. Neither approaches work proportions exactly zero one. long = TRUE, new column added holding name item (group) variable. useful need loop multiple variables bind results single data frame. See online vignettes details. collapse_item collapse_group can used collapse categories item group variable. named list include vector old category names corresponding new category name, e.g. list(Agree = c(\"Definitely Agree\", \"Rather Agree\"). can also use arguments rename categories (list(Yes = \"Agree\")) pass arguments forcats::fct_collapse() function. return_n = TRUE, columns holding absolute frequencies added. Column n number observations specific combination item grouping variable, n_item frequency item categories n_group frequency group categories.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise numeric or categorical variable (possibly segmented) — stem_summarise","text":"","code":"stem_summarise(data = trust, item = government) #> # A tibble: 5 × 4 #>   government                  freq freq_low freq_upp #>   <fct>                      <dbl>    <dbl>    <dbl> #> 1 Definitely Agree           0.008  -0.0537   0.0697 #> 2 Rather Agree               0.205   0.150    0.260  #> 3 Neither Agree nor Disagree 0.39    0.342    0.438  #> 4 Rather Disagree            0.201   0.146    0.256  #> 5 Definitely Disagree        0.196   0.140    0.252   stem_summarise(data = trust, item = age, group = eu_index) #> # A tibble: 4 × 6 #>   eu_index     group_n item_n  mean mean_low mean_upp #>   <fct>          <int>  <int> <dbl>    <dbl>    <dbl> #> 1 Likes EU         365    365  39.2     38.8     39.5 #> 2 Neutral          319    319  38.9     38.6     39.3 #> 3 Dislikes EU      212    212  38.7     38.3     39.1 #> 4 Doesn't Know     104    104  39.7     39.1     40.4  stem_summarise(data = trust, item = government,                collapse_item = list(Agree = c(\"Definitely Agree\", \"Rather Agree\"))) #> # A tibble: 4 × 4 #>   government                  freq freq_low freq_upp #>   <fct>                      <dbl>    <dbl>    <dbl> #> 1 Agree                      0.213    0.158    0.268 #> 2 Neither Agree nor Disagree 0.39     0.342    0.438 #> 3 Rather Disagree            0.201    0.146    0.256 #> 4 Definitely Disagree        0.196    0.140    0.252"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_cat.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise categorical variable (possibly segmented) — stem_summarise_cat","title":"Summarise categorical variable (possibly segmented) — stem_summarise_cat","text":"Takes one categorical variable returns tidy dataframe, including relative frequencies absolute size group. variable can segmented another categorical variable. Can also take survey weights. Returns 95% confidence intervals.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_cat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise categorical variable (possibly segmented) — stem_summarise_cat","text":"","code":"stem_summarise_cat(   data,   item,   group = NULL,   weight = NULL,   long = FALSE,   collapse_item = NULL,   collapse_group = NULL,   return_n = FALSE )"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_cat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise categorical variable (possibly segmented) — stem_summarise_cat","text":"data Dataframe including variables analyzed item Variable summarised group Optional segmenting variable weight Optional survey weights long Returns data long format. Useful multiple dataframes merged collapse_item Named list. Optionally collapes (renames) categories item variable collapse_group Named list. Optionally collapes (renames) categories group variable return_n TRUE, returns absolute group sizes.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_cat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise categorical variable (possibly segmented) — stem_summarise_cat","text":"Tidy dataframe","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_cat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise categorical variable (possibly segmented) — stem_summarise_cat","text":"","code":"trust |> stem_summarise_cat(item = police,                             group = eu,                             weight = W,                             collapse_item = list(Agree = c(\"Definitely Agree\", \"Rather Agree\"))) #> # A tibble: 20 × 5 #>    eu                         police                      freq freq_low freq_upp #>    <fct>                      <fct>                      <dbl>    <dbl>    <dbl> #>  1 Definitely Agree           Agree                     0.733   0.608     0.830  #>  2 Definitely Agree           Neither Agree nor Disagr… 0.104   0.0499    0.203  #>  3 Definitely Agree           Rather Disagree           0.0846  0.0385    0.176  #>  4 Definitely Agree           Definitely Disagree       0.0783  0.0277    0.202  #>  5 Rather Agree               Agree                     0.702   0.598     0.790  #>  6 Rather Agree               Neither Agree nor Disagr… 0.197   0.127     0.293  #>  7 Rather Agree               Rather Disagree           0.0320  0.0159    0.0632 #>  8 Rather Agree               Definitely Disagree       0.0688  0.0261    0.169  #>  9 Neither Agree nor Disagree Agree                     0.720   0.652     0.779  #> 10 Neither Agree nor Disagree Neither Agree nor Disagr… 0.152   0.109     0.208  #> 11 Neither Agree nor Disagree Rather Disagree           0.0720  0.0412    0.123  #> 12 Neither Agree nor Disagree Definitely Disagree       0.0555  0.0301    0.0999 #> 13 Rather Disagree            Agree                     0.750   0.663     0.821  #> 14 Rather Disagree            Neither Agree nor Disagr… 0.146   0.0913    0.224  #> 15 Rather Disagree            Rather Disagree           0.0436  0.0197    0.0937 #> 16 Rather Disagree            Definitely Disagree       0.0606  0.0291    0.122  #> 17 Definitely Disagree        Agree                     0.685   0.543     0.800  #> 18 Definitely Disagree        Neither Agree nor Disagr… 0.240   0.139     0.382  #> 19 Definitely Disagree        Rather Disagree           0.0163  0.00228   0.108  #> 20 Definitely Disagree        Definitely Disagree       0.0585  0.0183    0.172"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_num.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise numeric variable using arithmetic mean (possibly segmented) — stem_summarise_num","title":"Summarise numeric variable using arithmetic mean (possibly segmented) — stem_summarise_num","text":"Takes one numeric variable returns tidy dataframe, including relative mean absolute size group. variable can segmented another categorical variable. Can also take survey weights. Returns 95% confidence intervals.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_num.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise numeric variable using arithmetic mean (possibly segmented) — stem_summarise_num","text":"","code":"stem_summarise_num(   data,   item,   group = NULL,   weight = NULL,   long = FALSE,   collapse_group = NULL,   return_n = FALSE )"},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_num.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise numeric variable using arithmetic mean (possibly segmented) — stem_summarise_num","text":"data Dataframe including data analyzed item Variable summarised group Optional segmenting variable weight Optional survey weights long Returns data long format. Useful multiple dataframes merged collapse_group Named list. Optionally collapses (renames) categories group variable return_n TRUE, returns absolute group sizes.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_num.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise numeric variable using arithmetic mean (possibly segmented) — stem_summarise_num","text":"Tidy dataframe","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/stem_summarise_num.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise numeric variable using arithmetic mean (possibly segmented) — stem_summarise_num","text":"","code":"trust |> stem_summarise_num(age,                             group = eu_index,                             weight = W,          collapse_group = list(`Neutral or no opinion` = c(\"Neutral\", \"Doesn't Know\"))) #> # A tibble: 3 × 6 #>   eu_index              group_n item_n  mean mean_low mean_upp #>   <fct>                   <int>  <int> <dbl>    <dbl>    <dbl> #> 1 Likes EU                  365    365  39.2     38.7     39.6 #> 2 Neutral or no opinion     423    423  39.0     38.5     39.4 #> 3 Dislikes EU               212    212  38.2     37.5     38.9"},{"path":"https://stem-cz.github.io/stemtools/reference/theme_stem.html","id":null,"dir":"Reference","previous_headings":"","what":"Basic ggplot2 theme for Stem. — theme_stem","title":"Basic ggplot2 theme for Stem. — theme_stem","text":"Basic ggplot2 theme Stem.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/theme_stem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Basic ggplot2 theme for Stem. — theme_stem","text":"","code":"theme_stem(...)"},{"path":"https://stem-cz.github.io/stemtools/reference/theme_stem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Basic ggplot2 theme for Stem. — theme_stem","text":"... Arguments passed ggplot2::theme().","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/theme_stem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Basic ggplot2 theme for Stem. — theme_stem","text":"ggplot2 ggplot2::theme() object.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/theme_stem.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Basic ggplot2 theme for Stem. — theme_stem","text":"","code":"stem_plot_bar(trust, government) + theme_stem()"},{"path":"https://stem-cz.github.io/stemtools/reference/trust.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated data on attitudes towards institutions — trust","title":"Simulated data on attitudes towards institutions — trust","text":"Simulated data use examples function testing.","code":""},{"path":"https://stem-cz.github.io/stemtools/reference/trust.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated data on attitudes towards institutions — trust","text":"","code":"trust"},{"path":[]},{"path":"https://stem-cz.github.io/stemtools/reference/trust.html","id":"trust","dir":"Reference","previous_headings":"","what":"trust","title":"Simulated data on attitudes towards institutions — trust","text":"data frame 1 000 rows 9 columns: police Generally speaking, can following trusted: Police government Generally speaking, can following trusted: Czech government eu Generally speaking, can following trusted: European Union army Generally speaking, can following trusted: Army scientists Generally speaking, can following trusted: Scientists eu_index Attitudes towards EU index nat_index Openness towards society index age Age W Sampling weight","code":""},{"path":"https://stem-cz.github.io/stemtools/news/index.html","id":"stemtools-002","dir":"Changelog","previous_headings":"","what":"stemtools 0.0.2","title":"stemtools 0.0.2","text":"Added basic ploting functions: stem_plot_single, stem_plot_multiple, stem_plot_bar, stem_plot_bartable(). Added convenience function stem_ggplot(), tries export stem_plot_* figures proper dimensions. using Rstudio, ragg automatically set default graphical device stemtools loaded.","code":""},{"path":"https://stem-cz.github.io/stemtools/news/index.html","id":"stemtools-001","dir":"Changelog","previous_headings":"","what":"stemtools 0.0.1","title":"stemtools 0.0.1","text":"Added bluered_light diverging color palette.","code":""},{"path":"https://stem-cz.github.io/stemtools/news/index.html","id":"stemtools-0009000","dir":"Changelog","previous_headings":"","what":"stemtools 0.0.0.9000","title":"stemtools 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
